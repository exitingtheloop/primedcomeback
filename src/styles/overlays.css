/* ============================================================
   ARC MODE — Overlay & Texture Utility System
   Manga noir duotone grit: grain, halftone, scanlines, vignette
   ============================================================ */

/* ── 1. Paper Grain (SVG feTurbulence noise) ──────────────── */
.overlay-grain {
  position: absolute;
  inset: 0;
  pointer-events: none;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 200px 200px;
  opacity: 0.22;
}
.overlay-grain--light { opacity: 0.12; }
.overlay-grain--heavy { opacity: 0.32; }


/* ── 2. Halftone Dot Mask ─────────────────────────────────── */
.overlay-halftone {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image:
    radial-gradient(circle, rgba(255,255,255,0.35) 0.8px, transparent 0.8px);
  background-size: 4px 4px;
  mix-blend-mode: soft-light;
  opacity: 0.06;
}
.overlay-halftone--dense {
  background-size: 3px 3px;
  opacity: 0.09;
}
.overlay-halftone--sparse {
  background-size: 6px 6px;
  opacity: 0.04;
}


/* ── 3. Scanlines ─────────────────────────────────────────── */
.overlay-scanlines {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.18) 2px,
    rgba(0, 0, 0, 0.18) 3px
  );
  opacity: 0.07;
}
.overlay-scanlines--heavy {
  opacity: 0.12;
}
.overlay-scanlines--subtle {
  opacity: 0.04;
}


/* ── 4. Vignette (edge darkening) ─────────────────────────── */
/* Reduced center transparency to keep main content column clear,
   heavy edges preserved to maintain manga panel frame look */
.overlay-vignette {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(
    ellipse 70% 65% at center,
    transparent 45%,
    rgba(0, 0, 0, 0.30) 70%,
    rgba(0, 0, 0, 0.55) 100%
  );
}
.overlay-vignette--light {
  background: radial-gradient(
    ellipse 70% 65% at center,
    transparent 55%,
    rgba(0, 0, 0, 0.20) 75%,
    rgba(0, 0, 0, 0.35) 100%
  );
}
.overlay-vignette--heavy {
  background: radial-gradient(
    ellipse 70% 65% at center,
    transparent 35%,
    rgba(0, 0, 0, 0.40) 65%,
    rgba(0, 0, 0, 0.75) 100%
  );
}


/* ── 5. Ink bleed / splatter accent ───────────────────────── */
.overlay-ink-bleed {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='b'%3E%3CfeTurbulence type='turbulence' baseFrequency='0.015' numOctaves='2' seed='3'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3CfeComponentTransfer%3E%3CfeFuncR type='discrete' tableValues='0 0 0 1'/%3E%3CfeFuncG type='discrete' tableValues='0 0 0 1'/%3E%3CfeFuncB type='discrete' tableValues='0 0 0 1'/%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23b)' opacity='0.08'/%3E%3C/svg%3E");
  background-size: 400px 400px;
  mix-blend-mode: multiply;
  opacity: 0.4;
}


/* ── 6. Posterize filter (apply to containers holding bg images) */
.posterize {
  filter: contrast(1.25) brightness(0.95) saturate(0.2) grayscale(0.6);
}
.posterize--heavy {
  filter: contrast(1.6) brightness(0.85) saturate(0) grayscale(1);
}
.posterize--light {
  filter: contrast(1.1) brightness(1.0) saturate(0.35) grayscale(0.4);
}


/* ── 7. Duotone enforcement helper ────────────────────────── */
.duotone-base {
  filter: grayscale(1) contrast(1.3) brightness(0.9);
}
